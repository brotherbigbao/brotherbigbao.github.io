#第1章

## 度量 p8

可加： 常见
半可加：例如账户节余
不可加：单位价格

## 事实与维度 p9

如果给定产品没有销售活动，则不要在表中插入任何行。

仅将发生的活动放入事实表中，事实表将变得非常稀梳。尽管存在稀梳特性，事实表仍然占据维度模型消耗空间的90%甚至更多。

事实表的粒度可划分为三类：事务、周期性快照、累积快照。事务粒度级别的事实表最常见。

事实表的主键常称为组合键，具有组合键的表称为事实表。

维度表通常有多列，或者说包含多个属性。有50~100个属性的维度表并不稀奇。

维度属性可作为查询约束、分组、报表标识的主要来源。维度表属性在DW/BI系统中起着至关重要的作用。因为维度表的属性是所有查询约束和报表标识的来源。

维度属性对构建DW/BI系统的可用性和可理解性也起着非常重要的作用。属性应该包含真实使用的词汇而不是令人感到迷惑的缩写。
应该尽量减少在维度表中使用代码，应该将代码替换为详细的文本属性。您可能已经训练业务用户，让他们记住操作型的代码，但为了提高效率，应尽量减少他们对
代码转换注释的依赖。应该对那些操作型代码进行解码，以用于维度属性中，这样可以为查询、报表和BI应用提供具备一致性的标识。

有时操作码中包含一些智能含义，例如，操作码头两位数字表示业务类别，3~4位表示全球区域。与其强制用户查询或过滤操作码，不如将隐含的意思拆分，以不同的维度属性
展现给用户，这样用户就能方便地开展过滤、分组和制作报表等工作。

多数情况下，数据仓库的好坏直接取决于维度属性的设置；DW/BI环境的分析能力直接取决于维度属性的质量和深度。

## Kimball的DW/BI架构 展现区 p16

关于展现区，我们第二个主要的建议是必须包含详细的原子数据。
为满足用户无法预期的、随意的查询，必须使用原子数据。尽管在展现区，为提高性能也会存储聚集数据，
但若仅仅有这些汇总数据而没有形成这些汇总数据的细粒度数据，则这样的展现区是不够
完整的。换句话说，在维度模型中仅有汇总数据而查询原子数据时必须访问规范化模型是
完全不能被接受的。期望用户通过下钻维度数据到最细粒度的数据级别是不现实的，并且
采用这样的方式将失去使用维度展现的意义。虽然DW/BI用户和应用对某个订单的单个条
目的查询频度较低，但他们可能对上周产品订单的某种类型(或口味、包装类、供应商)感
兴趣，期望找到那些在半年内首次进行购买活动(或具有某一指定状态或具有一定的信用)
的用户。展现区中一定要包含最细粒度的数据，以便用户能够获得最准确的查询结果。由
于用户需求是不可预知的、不断变化的，因此需要提供各种细节数据，方便用户上卷以解
决实际问题。


必须使用公共的、一致性的维度建立维度结构。

利用总线结构建立分布式DW/BI系统是成功的法定。

处于DW/BI系统的可查询展现区中的数据必须是维度化的、原子（辅以增加性能的聚集）的、以业务过程为中心的。坚持使用总线结构的企业数据仓库，数据不应该按照个别部门需要
的数据来构建。


## 维度建模神话 p22

神话1：维度模型仅包含汇总数据

神话1通常是设计有问题维度模型的根源。由于不可能预测业务用户提出的所有问题，因此必须向业务用户提供对细节数据的查询访问，这样业务用户才能基于其业务问题开展上卷操作。

神话2：维度模型是部门级而不是企业级的

神话3：维度模型是不可扩展的

神话4：维度模型仅用于预测

不应将维度模型设计为仅仅关注预定义的报表或分析。设计应该以度量过程为中心。

神话5：维度模型不能被集成

## 考虑使用维度模型的更多理由

如果没有类似企业数据仓库总线矩阵这样的框架，一些DW/BI开发小组将陷入凭空使用敏捷技术建立分析或报表方案的陷阱中。多数情况下，小组与少量用户合作获取有限数据源，
交将其用于解决其特写的问题。输出往往成为独立的烟筒式数据系统，其他人不能复用。


#第2章

##基本概念 p27

维度模型不应该由那些不懂业务以及业务需求的人来设计，协作是成功的关键。

