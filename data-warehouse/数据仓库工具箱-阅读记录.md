## 度量 p8

可加： 常见
半可加：例如账户节余
不可加：单位价格

## 事实与维度 p9

如果给定产品没有销售活动，则不要在表中插入任何行。

仅将发生的活动放入事实表中，事实表将变得非常稀梳。尽管存在稀梳特性，事实表仍然占据维度模型消耗空间的90%甚至更多。

事实表的粒度可划分为三类：事务、周期性快照、累积快照。事务粒度级别的事实表最常见。

事实表的主键常称为组合键，具有组合键的表称为事实表。

维度表通常有多列，或者说包含多个属性。有50~100个属性的维度表并不稀奇。

维度属性可作为查询约束、分组、报表标识的主要来源。维度表属性在DW/BI系统中起着至关重要的作用。因为维度表的属性是所有查询约束和报表标识的来源。

维度属性对构建DW/BI系统的可用性和可理解性也起着非常重要的作用。属性应该包含真实使用的词汇而不是令人感到迷惑的缩写。
应该尽量减少在维度表中使用代码，应该将代码替换为详细的文本属性。您可能已经训练业务用户，让他们记住操作型的代码，但为了提高效率，应尽量减少他们对
代码转换注释的依赖。应该对那些操作型代码进行解码，以用于维度属性中，这样可以为查询、报表和BI应用提供具备一致性的标识。

有时操作码中包含一些智能含义，例如，操作码头两位数字表示业务类别，3~4位表示全球区域。与其强制用户查询或过滤操作码，不如将隐含的意思拆分，以不同的维度属性
展现给用户，这样用户就能方便地开展过滤、分组和制作报表等工作。

多数情况下，数据仓库的好坏直接取决于维度属性的设置；DW/BI环境的分析能力直接取决于维度属性的质量和深度。

## Kimball的DW/BI架构 展现区 p16

关于展现区，我们第二个主要的建议是必须包含详细的原子数据。
为满足用户无法预期的、随意的查询，必须使用原子数据。尽管在展现区，为提高性能也会存储聚集数据，
但若仅仅有这些汇总数据而没有形成这些汇总数据的细粒度数据，则这样的展现区是不够
完整的。换句话说，在维度模型中仅有汇总数据而查询原子数据时必须访问规范化模型是
完全不能被接受的。期望用户通过下钻维度数据到最细粒度的数据级别是不现实的，并且
采用这样的方式将失去使用维度展现的意义。虽然DW/BI用户和应用对某个订单的单个条
目的查询频度较低，但他们可能对上周产品订单的某种类型(或口味、包装类、供应商)感
兴趣，期望找到那些在半年内首次进行购买活动(或具有某一指定状态或具有一定的信用)
的用户。展现区中一定要包含最细粒度的数据，以便用户能够获得最准确的查询结果。由
于用户需求是不可预知的、不断变化的，因此需要提供各种细节数据，方便用户上卷以解
决实际问题。